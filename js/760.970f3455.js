"use strict";(self["webpackChunkgovernance_aepp"]=self["webpackChunkgovernance_aepp"]||[]).push([[760],{10237:function(e,t,n){function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return c}});n(21703);var r=n(55394),a=n(25108);const l=async e=>{try{return Promise.race([e().then((e=>{if(!e.ok)throw new Error(`Request failed with ${e.status}`);return e.json()})),new Promise((function(e,t){setTimeout(t,8e3,"TIMEOUT")}))])}catch(t){return a.error("backend error",t),null}};class c{constructor(e){s(this,"BACKEND_URL",void 0),s(this,"votesState",(async e=>{const t=await l((async()=>fetch(`${this.BACKEND_URL}/votesState/${e}`)));return t?{...t,stakesForOption:t.stakesForOption.map((e=>(e.delegatorsCount=e.votes.reduce(((e,t)=>e+t.delegators.length),0),e)))}:null})),s(this,"delegatedPower",((e,t)=>l((async()=>t?fetch(`${this.BACKEND_URL}/delegatedPower/${e}?poll=${t}`):fetch(`${this.BACKEND_URL}/delegatedPower/${e}`))))),s(this,"pollOverview",(async e=>l((async()=>fetch(`${this.BACKEND_URL}/pollOverview/${e}`))))),s(this,"accountPollVoterAuthor",(async e=>l((async()=>fetch(`${this.BACKEND_URL}/accountPollVoterAuthor/${e}`))))),s(this,"contractEvent",(async(e,t)=>l((async()=>fetch(`${this.BACKEND_URL}/contractEvent`,{body:JSON.stringify({topic:e,poll:t}),method:"POST",headers:{"Content-Type":"application/json"}}))))),s(this,"pollOrdering",(async(e=!1)=>l((async()=>fetch(`${this.BACKEND_URL}/pollOrdering?closed=${e?"true":"false"}`))))),s(this,"version",(async()=>l((async()=>fetch(`${this.BACKEND_URL}/version`))))),this.BACKEND_URL=r.Z[e].backendUrl}}},16395:function(e,t,n){n.d(t,{$6:function(){return l},OV:function(){return o},T3:function(){return a},pT:function(){return c},zx:function(){return r}});var s=n(6900);function r(e,t){return e?("undefined"===typeof t&&(t=2),Number((0,s.ZS)(e)).toFixed(t)+" AE"):""}function a(e,t){return e?("undefined"===typeof t&&(t=0),Number(e).toFixed(t)+"%"):""}function l(e){if(e){if(e<6e4)return"less than one minute";const t=e/60/1e3;if(t<60)return`${Math.round(t)} minute${t>1?"s":""}`;const n=t/60;if(n<24)return`${Math.round(n)} hour${n>1?"s":""}`;const s=n/24;if(s<31)return`${Math.round(s)} day${s>1?"s":""}`;const r=s/30;if(r<12)return`${Math.round(r)} month${r>1?"s":""}`;const a=r/12;return`${Math.round(a)} years`}return""}function c(e){if(e){const t=new Date(e);return`${t.toLocaleDateString()} at ${t.toLocaleTimeString()}`}return""}function o(e){return e.substr(0,12)}},45468:function(e,t,n){n.d(t,{Z:function(){return D}});var s=n(66252),r=n(3577);const a={class:"flex-row"},l={class:"balances"},c={class:"balance token"},o={class:"amount"},i={class:"amount"},u={class:"currency-symbol"},d={key:0};function h(e,t,n,h,f,g){const p=(0,s.up)("ae-identicon");return(0,s.wg)(),(0,s.iD)("div",{class:(0,r.C_)(g.classObject)},[(0,s._)("div",a,[(0,s.Wm)(p,{class:"avatar",address:n.address},null,8,["address"]),(0,s._)("span",{class:(0,r.C_)(["identity-name-position",g.collapsedModifier])},[(0,s._)("span",{role:"heading",class:(0,r.C_)(["identity-name",g.collapsedModifier])},(0,r.zw)(n.name),3),n.collapsed?((0,s.wg)(),(0,s.iD)("small",{key:0,class:"truncated-address cursor-pointer",onClick:t[0]||(t[0]=t=>e.$emit("click"))},(0,r.zw)(g.shortAddress)+" ••• ",1)):(0,s.kq)("",!0)],2),(0,s._)("div",l,[(0,s._)("div",c,[(0,s._)("span",o,(0,r.zw)(n.additionalText),1),(0,s._)("span",i,(0,r.zw)(g.toAE(n.balance)),1),(0,s._)("span",u,(0,r.zw)(n.currency),1)])])]),n.collapsed?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",d,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(g.chunkAddress,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"chunk-row"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"chunk"},(0,r.zw)(e),1)))),128))])))),128))]))],2)}n(57658);function f(e,t,n,a,l,c){return(0,s.wg)(),(0,s.iD)("canvas",{class:(0,r.C_)(["ae-identicon",{shadow:n.shadow},n.size]),ref:"blockie"},null,2)}const g=new Array(4);function p(e){g.fill(0);for(let t=0;t<e.length;t++)g[t%4]=(g[t%4]<<5)-g[t%4]+e.charCodeAt(t)}function m(){const e=g[0]^g[0]<<11;return g[0]=g[1],g[1]=g[2],g[2]=g[3],g[3]=g[3]^g[3]>>19^e^e>>8,(g[3]>>>0)/(1<<31>>>0)}function y(){const e=Math.floor(360*m()),t=60*m()+40+"%",n=25*(m()+m()+m()+m())+"%";return"hsl("+e+","+t+","+n+")"}function w(e){const t=e,n=e,s=Math.ceil(t/2),r=t-s,a=[];for(let l=0;l<n;l++){let e=[];for(let n=0;n<s;n++)e[n]=Math.floor(2.3*m());const t=e.slice(0,r);t.reverse(),e=e.concat(t);for(let n=0;n<e.length;n++)a.push(e[n])}return a}function v(e){const t={};return t.seed=e.seed||Math.floor(Math.random()*Math.pow(10,16)).toString(16),p(t.seed),t.size=e.size||8,t.scale=e.scale||4,t.color=e.color||y(),t.bgcolor=e.bgcolor||y(),t.spotcolor=e.spotcolor||y(),t}function b(e,t){e=v(e||{});const n=w(e.size),s=Math.sqrt(n.length);t.width=t.height=e.size*e.scale;const r=t.getContext("2d");r.fillStyle=e.bgcolor,r.fillRect(0,0,t.width,t.height),r.fillStyle=e.color;for(let a=0;a<n.length;a++)if(n[a]){const t=Math.floor(a/s),l=a%s;r.fillStyle=1==n[a]?e.color:e.spotcolor,r.fillRect(l*e.scale,t*e.scale,e.scale,e.scale)}return t}var k={name:"ae-identicon",props:{address:{type:String,required:!0},size:{type:String,validator:e=>["xl","base","s","xs","xxs"].includes(e),default:"base"},shadow:Boolean},watch:{address(){this.render()}},mounted(){this.render()},methods:{render(){b({seed:this.address},this.$refs.blockie)}}},_=n(83744);const $=(0,_.Z)(k,[["render",f],["__scopeId","data-v-bf97eaf6"]]);var x=$,S=n(16395),C={name:"ae-identity-light",components:{AeIdenticon:x},props:{name:{type:String,default:""},currency:{type:String,default:""},address:{type:String,default:"0x0"},additionalText:{type:String,default:""},balance:{type:String,default:"0"},collapsed:{type:Boolean,default:!1},invert:{type:Boolean,default:!1}},methods:{toAE:S.zx},computed:{classObject(){return["ae-identity-light",this.collapsedModifier,this.invert?"_invert":""]},chunkAddress(){if(0===this.address.length)return[];const e=this.address.match(/.{1,7}/g),t=[];for(let n=0;n<Math.ceil(e.length/3);n++)t.push(e.slice(3*n,3*n+3));return t},collapsedModifier(){return this.collapsed?"_collapsed":""},shortAddress(){return(0,S.OV)(this.address)}}};const B=(0,_.Z)(C,[["render",h],["__scopeId","data-v-222391e4"]]);var D=B},94848:function(e,t,n){n.d(t,{Z:function(){return M}});n(57658);var s=n(66252),r=n(3577),a=n(49963);const l={class:"flex justify-center w-full z-20"},c={key:0,class:"w-full flex h-12 mb-6 px-8 items-center"},o={class:"w-full h-full"},i=["id"],u={class:"flex justify-evenly items-center h-full flex-2"},d={class:"flex-3 flex justify-center"},h=["disabled"],f={class:"flex justify-evenly items-center h-full flex-2"};function g(e,t,n,g,p,m){const y=(0,s.up)("SmallButton");return(0,s.wg)(),(0,s.iD)("div",l,[(0,s._)("div",{class:(0,r.C_)(["fixed bottom-0 h-12 pb-8 w-full max-w-desktop bottom-bar",{"h-32":"search"===p.view}])},["search"===p.view?((0,s.wg)(),(0,s.iD)("div",c,[(0,s._)("label",o,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>p.searchString=e),type:"search",placeholder:"Search...",class:"rounded-full flex-1 bg-white h-full flex justify-center items-center px-4 w-full search-bar"},null,512),[[a.nr,p.searchString]])]),n.searchButton?((0,s.wg)(),(0,s.j4)(y,{key:0,img:p.images.searchImg,class:"ml-2",onClick:t[1]||(t[1]=t=>e.$emit("searchSubmit",p.searchString))},null,8,["img"])):(0,s.kq)("",!0)])):(0,s.kq)("",!0),(0,s._)("div",{class:"w-full flex h-12",id:n.htmlId},[(0,s._)("div",u,[(0,s.Wm)(y,{img:p.images.homeImg,onClick:t[2]||(t[2]=()=>"/"!==e.$route.path&&e.$router.push("/"))},null,8,["img"]),e.wallet.address?((0,s.wg)(),(0,s.j4)(y,{key:0,img:p.images.accountImg,onClick:t[3]||(t[3]=()=>e.$route.path!==`/account/${e.wallet.address}`&&e.$router.push(`/account/${e.wallet.address}`))},null,8,["img"])):(0,s.kq)("",!0)]),(0,s._)("div",d,[n.ctaText?((0,s.wg)(),(0,s.iD)("button",{key:0,class:"rounded-full bg-primary px-8 h-full flex justify-center items-center text-white font-semibold cursor-pointer",onClick:t[4]||(t[4]=t=>e.$emit("cta")),disabled:n.ctaDisabled},(0,r.zw)(n.ctaText),9,h)):(0,s.kq)("",!0),n.searchBar?((0,s.wg)(),(0,s.iD)("div",{key:1,class:(0,r.C_)(["rounded-full bg-primary px-8 h-full flex justify-center items-center text-white font-semibold relative cursor-pointer",{"search-button":"search"===p.view}]),onClick:t[5]||(t[5]=(...e)=>m.clickSearch&&m.clickSearch(...e))}," Search ",2)):(0,s.kq)("",!0)]),(0,s._)("div",f,[e.wallet.address?((0,s.wg)(),(0,s.j4)(y,{key:0,img:p.images.createImg,onClick:t[6]||(t[6]=()=>"/create"!==e.$route.path&&e.$router.push("/create"))},null,8,["img"])):(0,s.kq)("",!0),(0,s.Wm)(y,{img:p.images.backImg,onClick:t[7]||(t[7]=()=>e.$router.go(-1))},null,8,["img"])])],8,i)],2)])}const p={class:"w-8 h-8"},m=["src"];function y(e,t,n,r,a,l){return(0,s.wg)(),(0,s.iD)("div",p,[(0,s._)("div",{class:"rounded-full w-full h-full flex justify-center items-center shadow bg-gray-ae cursor-pointer",onClick:t[0]||(t[0]=t=>e.$emit("click"))},[(0,s._)("img",{src:n.img,alt:"generic_alt",class:"w-8 h-8"},null,8,m)])])}var w={name:"SmallButton",props:["img"]},v=n(83744);const b=(0,v.Z)(w,[["render",y],["__scopeId","data-v-7346b345"]]);var k=b,_=n.p+"img/search.35d19cd2.svg",$=n.p+"img/create.a2bcfc82.svg",x=n.p+"img/account.f81d2d23.svg",S=n.p+"img/home.3a882090.svg",C=n.p+"img/back.ef486cb4.svg",B=n(81251),D={name:"BottomButtons",components:{SmallButton:k},data(){return{view:"buttons",images:{searchImg:_,createImg:$,accountImg:x,homeImg:S,backImg:C},searchString:""}},setup:()=>({wallet:B.gU}),props:{home:{type:Boolean,default:!0},searchBar:{type:Boolean,default:!1},addPoll:{type:Boolean,default:!1},back:{type:String,default:null},ctaText:{type:String,default:null},ctaAction:{type:Function,default:()=>{}},ctaDisabled:{type:Boolean,default:!1},searchButton:{type:Boolean,default:!1},htmlId:{type:String}},watch:{searchString(){this.$emit("search",this.searchString)}},methods:{clickSearch(){"buttons"===this.view?this.view="search":"search"===this.view&&(this.view="buttons")}}};const A=(0,v.Z)(D,[["render",g],["__scopeId","data-v-60b2c752"]]);var M=A},35584:function(e,t,n){e.exports=n.p+"img/hash.74544c35.svg"}}]);
//# sourceMappingURL=760.970f3455.js.map